<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    div{
      color: red;
      font-size: 0.8rem;
      visibility: hidden;
    }
  </style>
</head>
<body>

<form action="main.php" method="post" onsubmit="return finallyCheck()">
  <label>账　号:
    <input type="text" name="account" id="account" onkeyup="checkAccount()" onblur="checkAccount()">
  </label>
  <div id="div1">账号不能为空!</div><br>
  <label>密　码:
    <input type="password" name="password" id="password" onkeyup="checkPass()" onblur="checkPass()">
  </label>
  <div id="div2">密码必须在6-16之间</div><br>
  <label>手机号:
    <input type="tel" name="phone" id="phone" onkeyup="checkPhone()" onblur="checkPhone()">
  </label>
  <div id="div3">手机号非法</div><br>
  <label>邮　箱:
    <input type="text" name="email" id="email" onkeyup="checkEmail()" onblur="checkEmail()">
  </label>
  <div id="div4">邮箱非法</div><br>
  <input type="submit" name="sub" id="sub" onkeyup="finallyCheck()">
</form>

</body>

<script>
  function checkAccount()
  {
    if (document.getElementById('account').value != '')
    {
      document.getElementById('div1').style.visibility = 'hidden';
      document.getElementById('sub').disabled = false;
      return true;
    }
    else
    {
      document.getElementById('div1').style.visibility = 'visible';
      document.getElementById('sub').disabled = true;
      return false;
    }
  }


  function checkPass()
  {
    var pass = document.getElementById('password').value;
    var len = pass.length;
    if (len > 16 || len < 6)
    {
      document.getElementById('div2').style.visibility = 'visible';
      document.getElementById('sub').disabled = true;
      return false;
    }
    else
    {
      document.getElementById('div2').style.visibility = 'hidden';
      document.getElementById('sub').disabled = false;
      return true;
    }
  }

  function checkPhone()
  {
    var phone = document.getElementById("phone");
    var pattern = /1[356789]\d{9}/;
    if (pattern.test(phone.value))
    {
      document.getElementById('div3').style.visibility = 'hidden';
      document.getElementById('sub').disabled = false;
      return true;
    }
    else
    {
      document.getElementById('div3').style.visibility = 'visible';
      document.getElementById('sub').disabled = true;
      return false;
    }
  }

  function checkEmail()
  {
    var email = document.getElementById("email");
    var pattern = /^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;
    if (pattern.test(email.value))
    {
      document.getElementById('div4').style.visibility = 'hidden';
      document.getElementById('sub').disabled = false;
      return true;
    }
    else
    {
      document.getElementById('div4').style.visibility = 'visible';
      document.getElementById('sub').disabled = true;
      return false;
    }
  }

  function finallyCheck()
  {
    return (checkAccount() && checkPass() && checkPhone() && checkEmail());
  }
</script>

</html>